get_bars <- function(index){
data.frame(
group = subset$GroupCat,
feature = X[,index]
) %>%
ggplot(aes(x = feature, fill = as.factor(group))) +
geom_histogram(stat = "bin", bins = 30) +
theme_minimal() +
labs(x = names(X)[index],
fill = 'Group')
}
get_bars(1)
table(subset$GroupCat) %>% sort()
names(data)
data <-
read.csv("data/filledDatabaseNUMONLY_051820.csv") %>%
filter(GroupCat %in% c(2,3:6))
table(data$X) %>% sort()
subset <- data %>% filter(X == "O")
X <- subset[,-c(1:4)]
table(subset$GroupCat) %>% sort()
data.frame(
group = subset$GroupCat,
feature = X[,index]
) %>%
ggplot(aes(x = feature, fill = as.factor(group))) +
geom_histogram(stat = "bin", bins = 30) +
scale_fill_jco() +
theme_minimal() +
labs(x = names(X)[index],
fill = 'Group')
get_bars <- function(index){
data.frame(
group = subset$GroupCat,
feature = X[,index]
) %>%
ggplot(aes(x = feature, fill = as.factor(group))) +
geom_histogram(stat = "bin", bins = 30) +
scale_fill_jco() +
theme_minimal() +
labs(x = names(X)[index],
fill = 'Group')
}
get_bars(1)
get_bars(2)
get_bars(4)
get_bars(5)
get_bars(6)
data <-
read.csv("data/filledDatabaseNUMONLY_051820.csv") %>%
clean_data() %>%
filter(GroupCat %in% c(2,3:6))
table(data$X) %>% sort()
subset <- data %>% filter(X == "O")
X <- subset[,-c(1:4)]
table(subset$GroupCat) %>% sort()
get_bars <- function(index){
data.frame(
group = subset$GroupCat,
feature = X[,index]
) %>%
ggplot(aes(x = feature, fill = as.factor(group))) +
geom_histogram(stat = "bin", bins = 30) +
scale_fill_jco() +
theme_minimal() +
labs(x = names(X)[index],
fill = 'Group')
}
data <-
read.csv("data/filledDatabaseNUMONLY_051820.csv") %>%
clean_data()
table(data$X) %>% sort()
subset <- data %>% filter(X == "O")
X <- subset[,-c(1:4)]
table(subset$GroupCat) %>% sort()
get_bars <- function(index){
data.frame(
group = subset$GroupCat,
feature = X[,index]
) %>%
ggplot(aes(x = feature, fill = as.factor(group))) +
geom_histogram(stat = "bin", bins = 30) +
scale_fill_jco() +
theme_minimal() +
labs(x = names(X)[index],
fill = 'Group')
}
get_bars(1)
data <-
read.csv("data/filledDatabaseNUMONLY_051820.csv") %>%
clean_data() %>%
filter(GroupCat %in% c(2,3:6))
table(data$X) %>% sort()
subset <- data %>% filter(X == "O")
X <- subset[,-c(1:4)]
table(subset$GroupCat) %>% sort()
get_bars <- function(index){
data.frame(
group = subset$GroupCat,
feature = X[,index]
) %>%
ggplot(aes(x = feature, fill = as.factor(group))) +
geom_histogram(stat = "bin", bins = 30) +
scale_fill_jco() +
theme_minimal() +
labs(x = names(X)[index],
fill = 'Group')
}
get_bars(1)
get_bars(2)
get_bars(3)
get_bars(4)
get_bars(5)
get_bars(6)
get_bars(7)
get_bars(8)
get_bars(9)
get_bars(10)
get_bars(11)
get_bars(12)
get_bars(13)
get_bars(14)
get_bars(15)
get_bars(16)
get_bars(17)
get_bars(18)
get_bars(18)  # 4 high, 2 low ##
get_bars(19)
get_bars(20)
get_bars(21)
get_bars(22)
get_bars(23)
get_bars(21)
get_bars(23)
get_bars(24)
get_bars(25)
get_bars(26)
get_bars(27)
get_bars(28)
get_bars(29)
get_bars(30)
get_bars(31)
get_bars(32) ##
get_bars(33) ##
get_bars(33) #####
get_bars(34) ##
get_bars(35) ##
get_bars(36)
get_bars(37)
get_bars(38) #
get_bars(39)
get_bars(40)
get_bars(41)
get_bars(42) #
get_bars(43)
get_bars(44)
get_bars(45)
get_bars(46)
get_bars(47)
get_bars(48)
get_bars(49)
get_bars(50)
get_bars(51)
get_bars(52)
get_bars(53)
get_bars(54)
get_bars(55)
get_bars(56)
get_bars(57)
get_bars(58)
get_bars(59)
get_bars(60)
get_bars(61)
get_bars(62) #
get_bars(63)
get_bars(64) #
get_bars(65)
get_bars(64)
get_bars2 <- function(index){
data.frame(
group = subset$GroupCat,
feature = X[,index]
) %>%
ggplot(aes(x = feature, fill = as.factor(group))) +
geom_histogram(stat = "bin", bins = 50) +
scale_fill_jco() +
theme_minimal() +
labs(x = names(X)[index],
fill = 'Group')
}
get_bars2 <- function(index){
data.frame(
group = subset$GroupCat,
feature = X[,index]
) %>%
ggplot(aes(x = feature, fill = as.factor(group))) +
geom_histogram(stat = "bin", bins = 50) +
scale_fill_jco() +
theme_minimal() +
labs(x = names(X)[index],
fill = 'Group')
}
get_bars2(32) #####
get_bars2(33) #####
get_bars2(64) #####
get_bars2 <- function(index){
data.frame(
group = subset$GroupCat,
feature = X[,index]
) %>%
ggplot(aes(x = feature, fill = as.factor(group))) +
geom_histogram(stat = "bin", bins = 100) +
scale_fill_jco() +
theme_minimal() +
labs(x = names(X)[index],
fill = 'Group')
}
get_bars2(32) #####
get_bars2(33) #####
get_bars2(64) #####
get_bars2 <- function(index){
data.frame(
group = subset$GroupCat,
feature = X[,index]
) %>%
ggplot(aes(x = feature, fill = as.factor(group))) +
geom_histogram(stat = "bin", bins = 200) +
scale_fill_jco() +
theme_minimal() +
labs(x = names(X)[index],
fill = 'Group')
}
get_bars2(32) #####
get_bars2(33) #####
get_bars2(64) #####
data.frame(
group = subset$GroupCat,
feature = X[,index]
) %>%
ggplot(aes(x = feature, fill = as.factor(group))) +
geom_histogram(stat = "bin", bins = 100) +
scale_fill_jco() +
theme_minimal() +
labs(x = names(X)[index],
fill = 'Group')
get_bars2 <- function(index){
data.frame(
group = subset$GroupCat,
feature = X[,index]
) %>%
ggplot(aes(x = feature, fill = as.factor(group))) +
geom_histogram(stat = "bin", bins = 100) +
scale_fill_jco() +
theme_minimal() +
labs(x = names(X)[index],
fill = 'Group')
}
get_bars2(32) #####
get_bars2(33) #####
get_bars2 <- function(index){
data.frame(
group = subset$GroupCat,
feature = X[,index]
) %>%
ggplot(aes(x = feature, fill = as.factor(group))) +
geom_histogram(stat = "bin", bins = 70) +
scale_fill_jco() +
theme_minimal() +
labs(x = names(X)[index],
fill = 'Group')
}
get_bars2(32) #####
get_bars2(33) #####
get_bars2(32) #####
get_bars2(64) #####
get_bars2(64) + facet_grid(~group)
get_bars2(64) + facet_grid(group~)
get_bars2(64) + facet_grid(group~.)
get_bars2(32) + facet_grid(group~.)
get_bars(5) # 4 low, 2 high
get_bars(6)
get_bars(7) # 4 low, 2 high
get_bars(8) # 4 low, 2 high
get_bars(9) # 4 high, 2 low
get_bars(10) # 4 high, 2 low
get_bars(11)
get_bars(12) # 4 high, 2 low
get_bars(13) # 4 high, 2 low ##
get_bars(14) # 4 high, 2 low
get_bars(17)  # 4 high, 2 low ##
get_bars(18)  # 4 high, 2 low ##
get_bars(20)  # 4 high, 2 low
get_bars(21)  # 4 high, 2 low
get_bars(17) + facet_grid(group~.)
data.frame(
group = subset$GroupCat,
x17 = X[,17],
x32 = X[,32],
x64 = X[,64]
) %>%
ggplot(aes(x = x17, y = x32, color = group)) +
geom_point()
data.frame(
group = subset$GroupCat,
x17 = X[,17],
x32 = X[,32],
x64 = X[,64]
) %>%
ggplot(aes(x = x17, y = x32, color = as.factor(group))) +
geom_point()
get_bars(17) + facet_grid(group~.)
get_bars2(32) + facet_grid(group~.)
data.frame(
group = subset$GroupCat,
x17 = X[,17],
x32 = X[,32],
x64 = X[,64]
) %>%
ggplot(aes(x = x17, y = x32, color = as.factor(group))) +
geom_point() +
scale_color_jco()
data.frame(
group = subset$GroupCat,
x17 = X[,17],
x32 = X[,32],
x64 = X[,64]
) %>%
ggplot(aes(x = x17, y = x32, color = as.factor(group))) +
geom_point() +
scale_color_jco() +
theme_minimal()
data.frame(
compound = subset$Compound,
group = subset$GroupCat,
x17 = X[,17],
x32 = X[,32],
x64 = X[,64]
) %>%
# ggplot(aes(x = x17, y = x32, color = as.factor(group))) +
# geom_point() +
# scale_color_jco() +
# theme_minimal()
plot_ly(x = ~x17,
y = ~x32,
z = ~x64,
color = ~group,
colors = "Dark2",
text = ~compound) %>%
add_markers(marker=list(size = 7, opacity = 0.6)) %>%
layout(scene = list(xaxis = list(title = 'x17'),
yaxis = list(title = 'x32'),
zaxis = list(title = 'x64')))
data.frame(
compound = subset$Compound,
group = as.factor(subset$GroupCat),
x17 = X[,17],
x32 = X[,32],
x64 = X[,64]
) %>%
# ggplot(aes(x = x17, y = x32, color = as.factor(group))) +
# geom_point() +
# scale_color_jco() +
# theme_minimal()
plot_ly(x = ~x17,
y = ~x32,
z = ~x64,
color = ~group,
colors = "Dark2",
text = ~compound) %>%
add_markers(marker=list(size = 7, opacity = 0.6)) %>%
layout(scene = list(xaxis = list(title = 'x17'),
yaxis = list(title = 'x32'),
zaxis = list(title = 'x64')))
data.frame(
compound = subset$Compound,
group = as.factor(subset$GroupCat),
x17 = X[,17],
x32 = X[,32],
x64 = X[,64]
) %>%
ggplot(aes(x = x17, y = x32, color = as.factor(group))) +
geom_point() +
scale_color_jco() +
theme_minimal()
data.frame(
compound = subset$Compound,
group = as.factor(subset$GroupCat),
x17 = X[,17],
x32 = X[,32],
x64 = X[,64]
) %>%
ggplot(aes(x = x17, y = x32, color = as.factor(group))) +
geom_point(size = 2) +
scale_color_jco() +
theme_minimal()
data.frame(
compound = subset$Compound,
group = as.factor(subset$GroupCat),
x17 = X[,17],
x32 = X[,32],
x64 = X[,64]
) %>%
ggplot(aes(x = x17, y = x32, color = as.factor(group))) +
geom_point(size = 4) +
scale_color_jco() +
theme_minimal()
data.frame(
compound = subset$Compound,
group = as.factor(subset$GroupCat),
x17 = X[,17],
x32 = X[,32],
x64 = X[,64]
) %>%
ggplot(aes(x = x17, y = x32, color = as.factor(group))) +
geom_point(size = 2) +
scale_color_jco() +
theme_minimal()
data.frame(
compound = subset$Compound,
group = as.factor(subset$GroupCat),
x17 = X[,17],
x32 = X[,32],
x64 = X[,64]
) %>%
ggplot(aes(x = x17, y = x32, color = as.factor(group))) +
geom_point(size = 2) +
scale_color_jco() +.5
data.frame(
compound = subset$Compound,
group = as.factor(subset$GroupCat),
x17 = X[,17],
x32 = X[,32],
x64 = X[,64]
) %>%
ggplot(aes(x = x17, y = x32, color = as.factor(group))) +
geom_point(size = 2.5) +
scale_color_jco() +
theme_minimal()
data.frame(
compound = subset$Compound,
group = as.factor(subset$GroupCat),
x17 = X[,17],
x32 = X[,32],
x64 = X[,64]
) %>%
ggplot(aes(x = x17, y = x32, color = as.factor(group))) +
geom_point(size = 2.5) +
scale_color_jco() +
theme_minimal() +
labs(x = names(X)[17], y = names(X)[32], color = "Group")
65/5
library(tidyverse)
library(magrittr)
library(ggsci)
library(kableExtra)
library(plotly)
source("scripts/functions.R")
data <-
read.csv("data/filledDatabaseNUMONLY_051820.csv") %>%
clean_data() %>%
filter(GroupCat %in% c(2,3:6))
data <-
read.csv("./data/filledDatabaseNUMONLY_051820.csv") %>%
clean_data() %>%
filter(GroupCat %in% c(2,3:6))
data <-
read.csv("../data/filledDatabaseNUMONLY_051820.csv") %>%
clean_data() %>%
filter(GroupCat %in% c(2,3:6))
source("../scripts/functions.R")
data <-
read.csv("../data/filledDatabaseNUMONLY_051820.csv") %>%
clean_data() %>%
filter(GroupCat %in% c(2,3:6))
table(data$X) %>% sort()
subset <- data %>% filter(X == "O")
X <- subset[,-c(1:4)]
table(subset$GroupCat) %>% sort()
get_bars <- function(index){
data.frame(
group = subset$GroupCat,
feature = X[,index]
) %>%
ggplot(aes(x = feature, fill = as.factor(group))) +
geom_histogram(stat = "bin", bins = 30) +
scale_fill_jco() +
theme_minimal() +
labs(x = names(X)[index],
fill = 'Group')
}
par(mfrow = c(5, 13))
get_bars(1)
get_bars(2)
65/15
65/5
library(cowplot)
layout_bars <- function(index){
p1 = get_bars(index + 1)
p2 = get_bars(index + 2)
p3 = get_bars(index + 3)
p4 = get_bars(index + 4)
p5 = get_bars(index + 5)
plot_grid(p1,p2,p3,p4,p5, labels = "AUTO")
}
layout_bars(0)
12*5
65/15
15*4
16*4
12/8
20/16
20/8
